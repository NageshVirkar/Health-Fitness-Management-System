{"ast":null,"code":"var _jsxFileName = \"D:\\\\GYM MANAGEMENT\\\\Health-fitness-Management-system\\\\Frontend\\\\FrontEnd\\\\src\\\\pages\\\\Login\\\\index.jsx\",\n    _s = $RefreshSig$();\n\n// Import necessary components and libraries\nimport React, { useState } from 'react';\nimport * as S from './style';\nimport './style.css';\nimport Image from '../../assets/Mobile login.svg';\nimport { Link } from 'react-router-dom';\nimport NavBar from '../../components/Navbar';\nimport Footer from '../../components/Footer';\nimport TextField from '@mui/material/TextField';\nimport AccountCircle from '@mui/icons-material/AccountCircle';\nimport InputAdornment from '@mui/material/InputAdornment';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Index() {\n  _s();\n\n  // Set the document title\n  document.title = 'Muscle Factory - Sign in'; // State variables\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [errors, setErrors] = useState({\n    password: ''\n  }); // Function to handle login\n\n  const handleLogin = async e => {\n    e.preventDefault();\n\n    try {\n      console.log('Starting login process...'); // Make a POST request to the login endpoint\n\n      const response = await axios.post('http://localhost:8083/login', {\n        username: email,\n        password: password\n      }); // Log the response to the console\n\n      console.log('Login response:', response); // Assuming your backend sends a JWT token in the response\n\n      const token = response.data.jwtToken; // Log the token to the console\n\n      console.log('JWT Token:', token); // Store the token in localStorage or wherever you manage your state\n\n      localStorage.setItem('token', token); // Get the user type from the response\n\n      const name = response.data.name;\n      const userType = response.data.userTypeIndex;\n      const username = response.data.email;\n      const id = response.data.id;\n      localStorage.setItem('userType', userType);\n      localStorage.setItem('email', username);\n      localStorage.setItem('id', id);\n      localStorage.setItem('name', name);\n      console.log('User Type:', userType); // Redirect based on user type\n\n      switch (userType) {\n        case 0:\n          // Admin\n          window.location.href = '/admin'; // Change this to the admin route\n\n          break;\n\n        case 1:\n          // Trainer\n          window.location.href = '/trainer'; // Change this to the trainer route\n\n          break;\n\n        case 2:\n          // Customer\n          window.location.href = '/Customer'; // Change this to the customer route\n\n          break;\n\n        default:\n          console.error('Unknown user type:', userType);\n          break;\n      }\n    } catch (error) {\n      console.error('Login failed', error);\n\n      if (error.response) {\n        // The request was made and the server responded with a status code\n        // that falls out of the range of 2xx\n        console.log('Error response status:', error.response.status);\n        console.log('Error response data:', error.response.data);\n        setErrors({\n          password: 'Authentication failed. Please check your credentials.'\n        });\n      } else if (error.request) {\n        // The request was made but no response was received\n        console.log('No response received');\n      } else {\n        // Something happened in setting up the request that triggered an Error\n        console.log('Error message:', error.message);\n      }\n    }\n  }; // Render the UI\n\n\n  return /*#__PURE__*/_jsxDEV(S.All, {\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(S.Container, {\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: Image,\n        alt: \"img_ilustration\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(S.CountArea, {\n        children: [/*#__PURE__*/_jsxDEV(S.ButtonSignup, {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/signup\",\n            children: \"REGISTER HERE!!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(S.Login, {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: /*#__PURE__*/_jsxDEV(\"center\", {\n              children: \"LOGIN\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            classes: {\n              root: 'inputEmail'\n            },\n            id: \"outlined-basic\",\n            required: true,\n            type: \"email\",\n            margin: \"dense\",\n            fullWidth: true,\n            label: \"Email\",\n            color: \"error\",\n            variant: \"outlined\",\n            value: email,\n            onChange: e => setEmail(e.target.value),\n            InputProps: {\n              startAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                position: \"start\",\n                children: /*#__PURE__*/_jsxDEV(AccountCircle, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 119,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 19\n              }, this),\n              style: {\n                color: 'white'\n              }\n            },\n            autoComplete: \"username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            margin: \"dense\",\n            classes: {\n              root: 'inputSignup'\n            },\n            id: \"outlined-adornment-password\",\n            required: true,\n            fullWidth: true,\n            label: \"Password\",\n            color: \"error\",\n            variant: \"outlined\",\n            type: \"password\",\n            value: password,\n            onChange: e => setPassword(e.target.value),\n            helperText: errors.password,\n            error: Boolean(errors.password),\n            InputProps: {\n              startAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                position: \"start\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 19\n              }, this),\n              style: {\n                color: 'white'\n              }\n            },\n            autoComplete: \"current-password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(S.ButtonEntrar, {\n            onClick: handleLogin,\n            children: \"Login Here\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Index, \"OuxVk0Povp6tXfME25OP4FRkhJE=\");\n\n_c = Index;\n\nvar _c;\n\n$RefreshReg$(_c, \"Index\");","map":{"version":3,"names":["React","useState","S","Image","Link","NavBar","Footer","TextField","AccountCircle","InputAdornment","axios","Index","document","title","email","setEmail","password","setPassword","errors","setErrors","handleLogin","e","preventDefault","console","log","response","post","username","token","data","jwtToken","localStorage","setItem","name","userType","userTypeIndex","id","window","location","href","error","status","request","message","root","target","value","startAdornment","style","color","Boolean"],"sources":["D:/GYM MANAGEMENT/Health-fitness-Management-system/Frontend/FrontEnd/src/pages/Login/index.jsx"],"sourcesContent":["// Import necessary components and libraries\nimport React, { useState } from 'react';\nimport * as S from './style';\nimport './style.css';\nimport Image from '../../assets/Mobile login.svg';\nimport { Link } from 'react-router-dom';\nimport NavBar from '../../components/Navbar';\nimport Footer from '../../components/Footer';\nimport TextField from '@mui/material/TextField';\nimport AccountCircle from '@mui/icons-material/AccountCircle';\nimport InputAdornment from '@mui/material/InputAdornment';\nimport axios from 'axios';\n\nexport default function Index() {\n  // Set the document title\n  document.title = 'Muscle Factory - Sign in';\n\n  // State variables\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [errors, setErrors] = useState({ password: '' });\n\n  // Function to handle login\n  const handleLogin = async (e) => {\n    e.preventDefault();\n    try {\n      console.log('Starting login process...');\n     \n      // Make a POST request to the login endpoint\n      const response = await axios.post('http://localhost:8083/login', {\n        username: email,\n        password: password,\n      });\n    \n\n      // Log the response to the console\n      console.log('Login response:', response);\n      // Assuming your backend sends a JWT token in the response\n      const token = response.data.jwtToken;\n\n      // Log the token to the console\n      console.log('JWT Token:', token);\n\n      // Store the token in localStorage or wherever you manage your state\n      localStorage.setItem('token', token);\n\n      // Get the user type from the response\n      const name= response.data.name;\n      const userType = response.data.userTypeIndex;\n      const username=response.data.email;\n      const id=response.data.id;\n      localStorage.setItem('userType', userType);\n      localStorage.setItem('email', username);\n      localStorage.setItem('id',id);\n      localStorage.setItem('name',name);\n      console.log('User Type:', userType);\n\n      // Redirect based on user type\n      switch (userType) {\n        case 0: // Admin\n          window.location.href = '/admin'; // Change this to the admin route\n          break;\n        case 1: // Trainer\n          window.location.href = '/trainer'; // Change this to the trainer route\n          break;\n        case 2: // Customer\n          window.location.href = '/Customer'; // Change this to the customer route\n          break;\n        default:\n          console.error('Unknown user type:', userType);\n          break;\n      }\n    } catch (error) {\n      console.error('Login failed', error);\n\n      if (error.response) {\n        // The request was made and the server responded with a status code\n        // that falls out of the range of 2xx\n        console.log('Error response status:', error.response.status);\n        console.log('Error response data:', error.response.data);\n        setErrors({ password: 'Authentication failed. Please check your credentials.' });\n      } else if (error.request) {\n        // The request was made but no response was received\n        console.log('No response received');\n      } else {\n        // Something happened in setting up the request that triggered an Error\n        console.log('Error message:', error.message);\n      }\n    }\n  };\n\n  // Render the UI\n  return (\n    <S.All>\n      <NavBar />\n      <S.Container>\n        <img src={Image} alt='img_ilustration' />\n        <S.CountArea>\n          <S.ButtonSignup>\n            <Link to='/signup'>REGISTER HERE!!</Link>\n          </S.ButtonSignup>\n          <S.Login>\n            <h1><center>LOGIN</center></h1>\n            <TextField\n              classes={{ root: 'inputEmail' }}\n              id='outlined-basic'\n              required\n              type='email'\n              margin='dense'\n              fullWidth\n              label='Email'\n              color='error'\n              variant='outlined'\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position='start'>\n                    <AccountCircle />\n                  </InputAdornment>\n                ),\n                style: { color: 'white' },\n              }}\n              autoComplete='username'\n            />\n\n            <TextField\n              margin='dense'\n              classes={{ root: 'inputSignup' }}\n              id='outlined-adornment-password'\n              required\n              fullWidth\n              label='Password'\n              color='error'\n              variant='outlined'\n              type='password'\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              helperText={errors.password}\n              error={Boolean(errors.password)}\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position='start'>\n                    {/* You can add an icon for the password if needed */}\n                  </InputAdornment>\n                ),\n                style: { color: 'white' },\n              }}\n              autoComplete='current-password'\n            />\n            {/* <S.Forgot>Forgot your password?</S.Forgot> */}\n            <S.ButtonEntrar onClick={handleLogin}>Login Here</S.ButtonEntrar>\n          </S.Login>\n        </S.CountArea>\n      </S.Container>\n      <Footer />\n    </S.All>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}